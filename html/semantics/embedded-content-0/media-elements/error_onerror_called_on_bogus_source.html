<!doctype html>
<html>
 <head>
  <title>{audio,video}.error - MEDIA_ERR_SRC_NOT_SUPPORTED constant is 4</title>
  <script src="/resources/testharness.js"></script>
  <script src="/resources/testharnessreport.js"></script>
 </head>
 <body>
  <p><a href="http://dev.w3.org/html5/spec/Overview.html#dom-media-error">spec reference</a></p>
  <audio id="a" src=".">
  </audio>
  <video id="v" src=".">
  </video>
  <div id="log"></div>
  <script>
var tv = async_test("videoElement.onerror is triggered on bogus source");
var v = document.getElementById("v");
v.onerror = function() {
  tv.step(function() {
    assert_equals(
     v.error.code,
     4,
     "videoElement.error MEDIA_ERR_SRC_NOT_SUPPORTED constant is 4");
  });
  tv.done();
}

var ta = async_test("audioElement.onerror is triggered on bogus source");
var a = document.getElementById("a");
a.onerror = function() {
  ta.step(function() {
    assert_equals(
     a.error.code,
     4,
     "audioElement.error MEDIA_ERR_SRC_NOT_SUPPORTED constant is 4");
  });
  ta.done();
}
  </script>
 </body>
</html>
